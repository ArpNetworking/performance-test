cache:
  directories:
  - $HOME/.m2
  - $HOME/.jdk
sudo: false
env:
  global:
  - JDKW=https://raw.githubusercontent.com/vjkoskela/jdk-wrapper/master/jdk-wrapper.sh
  - JDKW_VERSION=8u65
  - JDKW_BUILD=b17
  - secure: B+VZyARctfO148+EzGZzaPXkdbbG1pHDPL2Ax+Ujxsly8PRrgLMBZm/AusHAT6Ul76pIEkgudG75qfFLkRfhLDLU4Uij2dOxdvkpcQSy+ik/3I0/vBgSR1CKT5YgGOsMVerXfhXr0xqzJuMRq4LPe7YR+n+fJiOF269aFUyOVQojc77NOS2QN/txGBESZO+eKBrvHTCaX9zKCDVycyCSf2kBqADldKrXe0yii9t0qoFsszhHXxlEl6meofEeA/O6NBL+Gt/RoDT/2LjVjjoFPS7ay+0m8KsQuKyL7hIvLF1KwZt32Fek2GpPd23A9ZUllIcXEGtbHcCmX825ee+2vs7qVwGJbGci8dhTjCul7ilp+N3gizuOD4rIUsugJuofR73rN20NEdC+1QRDXpYTKBN2TiAvwyFejAxvZzPUGiXMzH3Bk7v84dqKkROe3Q1WhQAKXxkU6XgiVXQyHF0ZLKU9mwik1Hf8QX8ca8Ec/A0m8cvNDa4ehvLLgjeYHJLf6lGZ5nTh01fKC/7i9sLbFLIpcb9G6RvmdLeY7FwZkI+kjeU7N8A3cOvwAU7g+ICKxWvdNIcCskLtK/k1VPEfblE8XKzhidasUwi2bSnWvkt8winLXGIZkz9ME0wfxG5Iz1rXmZwQYi+odeAKYYaMiLs7xVmqFA9JBiI7XH7jqOs=
  - secure: fEOGJISgbrIl7q1J7Xf1+fBb1Wa8roX5krY5cDj9O8zXEhMDxDnDZfqi4kXkXkEu6lfQQjfP97Cp9RBByWE7c8zHMVro4W7haR9zI6QzPgW7qbB4wYtIuMztPDhoRRqfRHhWhabfMXBUUnKzK45DVZ2dNl3YXd2Swoh79whE0B8TwXs2nJpCWkpExOgH4YTgcaSg7B0Q37pRl9yDoKaib9yVhfiC7PQ3/gGaDfkl1TAmeFIEgE5KBIUxdtAmu4bjIrrBudhLe0cg6Ma7Ibq50CjgUH0nrrSatzCDUhMRB1VVQwb43IL4aE3Xrj8Od9tUpjl9wQYMND/ZSRb8BsFI4k08Kdt72jZhUPl6H9LRj1d7yWTPMSNz4WHzgDMMPJzbviT30zBwT4XqvgMnQbzH3E+xHsgv83hsZ+YVsTZ3/S0uHFvhKKmS5U1vKB/oOYD0SXbjIEBCvLybig6BYJ0s5pjv6j+cQirarg6/rdDocwLcFwIAGErJ/Tjz9KWBSk8hvYmoiNsr8f95w0fW35G8cHr+m8h2UeFm74OlVLwWsyLhKVkag3hjeqbOEZy/8FXSannf2zOaqcZp2GwUV9usmgHrrqBEvrT3A6boS/XtHUsIGTD+IFe6HmoDcqCFRtWXqW91TxJtO5r+dc8E+vf3e2HgT/jDxoRKQYr8KC0Q240=
  - secure: tgqos+eX1I00CyC1xOGynLAc3xMCAcfzh9r5hGmI+hD4LLRFVJxCZ2NCtwnv4jjvgA70EjpUeEtn1YbrDUceoVppT8YPw56t4aC5JAkbOkBjEb2UB37AYc9H1PJsrkyCAoh9eDNGSu5V4CCyGgV210h2Dhn4yQKte0EfzuCD7MNGLVOVlsmArmYWkA3X9aeQv/+3Xej1/L1GEkBEOZWdLpj71cwy+hIxBE6gb7nWm1Tyfsf6bOiGwNYR5vq3WGgZO+yPqsnvxqSU8aM12WsX5GpJaaxuf3N4GXspKIXL3X8TKHdAlVEESzFFdXsMVV/0d0VJlm8Xc61GbpjeG9PvMRK1rchZEvAnGbl5IrNGS4G92P8d/k4+qptkC62CTwEyTYL/2cBrxqNJdTlGd3yTyjiTq8a8dLxSbS8BdktzoIU1FSfR+UW55xj0KoXA9mApcecxrJY/CBzkzu6v3+IVtWLjgoGe0Zzn72JPTvfpAGmBRJz0dqSrmV93EKiJImBSg7zTPj7+r8ew9al8ruShS1jG6Ky9F2XNsPLfYwXSFWfAuRIylF9fcZBX+eXqOiy2V6y3zGyHjQ5eKHKzqugAlGdDShqY4JFxK1LYxyATCkRcsSR1XSIBwsSvhAaQPtPY+vZzsFL8kd1frWiFqrAbzAFJRiOzRjhDVSqVvPazoE4=
install: true
before_script:
- gpg --import arpnetworking.key
script:
- curl -s ${JDKW} | bash /dev/stdin ./mvnw clean install --settings settings.xml -P ci -Dgpg.skip=true -U
- if [ \( -n "${TRAVIS_TAG}" \) -a "${TRAVIS_PULL_REQUEST}" = "false" ]; then curl -s ${JDKW} | bash /dev/stdin ./mvnw deploy --settings settings.xml -P ci -DskipAllVerification=true; fi;
